<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Descompactando los fuentes, corrigiendo el núcleo (si es necesario)</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.59"><LINK
REL="HOME"
TITLE="Linux-Mandrake"
HREF="index.html"><LINK
REL="UP"
TITLE="Compilando e instalando núcleos nuevos"
HREF="compiling.html"><LINK
REL="PREVIOUS"
TITLE="Compilando e instalando núcleos nuevos"
HREF="compiling.html"><LINK
REL="NEXT"
TITLE="Configurando el núcleo"
HREF="compiling-conf.html">
<meta name="Author" content="MandrakeSoft">
<meta name="Description" content="This is Linux-Mandrake Documentation.">
<meta name="KeyWords" content="Linux, Mandrake, Linux-Mandrake, documentation, Mandrake Books, howto, Powerpack">

</HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#666699"
VLINK="#980060"
ALINK="#FF0000"
>

<DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
><B
CLASS="EMPHASIS"
>Linux-Mandrake</B
>: <B
CLASS="EMPHASIS"
>Manual de Referencia</B
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="compiling.html"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Capítulo 14. Compilando e instalando núcleos nuevos</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="compiling-conf.html"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="COMPILING-UNPACK"
>14.2. Descompactando los fuentes, corrigiendo el núcleo (si es necesario)</A
></H1
><P
>&#13;Los fuentes del núcleo deberían ponerse en <TT
CLASS="FILENAME"
>/usr/src</TT
>. Por lo que debería ir a este directorio y luego descompactar los fuentes allí:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>$ cd /usr/src
$ mv linux linux.old
$ tar xzf /ruta/a/linux-2.2.17.tar.gz </PRE
></TD
></TR
></TABLE
><P
>El comando <TT
CLASS="COMMAND"
>mv linux linux.old</TT
> es necesario: esto es debido a que Ud. ya podría tener los fuentes de otra versión del núcleo. Este comando le asegurará que no escribirá sobre ellos. Una vez que el archivo se descompactó, tiene un sub-directorio <TT
CLASS="FILENAME"
>linux</TT
> con los fuentes del núcleo nuevo.</P
><P
>Ahora, los <TT
CLASS="FOREIGNPHRASE"
><I
>patches</I
></TT
>. Asumiremos que quiere <SPAN
CLASS="QUOTE"
>"patchear"</SPAN
> (o corregir) de la versión 2.2.15 a la 2.2.17 y que ha bajado los <TT
CLASS="FOREIGNPHRASE"
><I
>patches</I
></TT
> necesarios para hacer esto: debe dirigirse al directorio <TT
CLASS="FILENAME"
>linux</TT
> creado recientemente, luego aplique los <TT
CLASS="FOREIGNPHRASE"
><I
>patches</I
></TT
>:&#13;</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>$ <TT
CLASS="COMMAND"
>cd linux </TT
>
$ <TT
CLASS="COMMAND"
>gzip -dc /ruta/al/patch-2.2.16.gz | patch -p1 # </TT
>
$ <TT
CLASS="COMMAND"
>gzip -dc /ruta/al/patch-2.2.17.gz | patch -p1 </TT
>
$ <TT
CLASS="COMMAND"
>cd .. </TT
></PRE
></TD
></TR
></TABLE
><P
>&#13;Generalmente, para pasar de una versión 2.2.x a una versión 2.2.y es necesario que Ud. aplique todos los <TT
CLASS="FOREIGNPHRASE"
><I
>patches</I
></TT
> numerados 2.2.x+1, 2.2.x+2, ..., 2.2.y en orden. Para <SPAN
CLASS="QUOTE"
>"descender"</SPAN
> desde 2.2.y hasta 2.2.x, repita exactamente el mismo proceso pero en orden inverso. Es decir, aplicar los <TT
CLASS="FOREIGNPHRASE"
><I
>patches</I
></TT
> en orden inverso con la opción <TT
CLASS="OPTION"
>-R</TT
> desde <TT
CLASS="COMMAND"
>patch</TT
> (<TT
CLASS="LITERAL"
>R</TT
> significa Revertir). Entonces, para regresar del núcleo 2.2.17 al núcleo 2.2.15, haría lo siguiente:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>$ <TT
CLASS="COMMAND"
>gzip -dc /ruta/al/patch-2.2.17.gz | patch -p1 -R </TT
> 
$ <TT
CLASS="COMMAND"
>gzip -dc /ruta/al/patch-2.2.16.gz | patch -p1 -R </TT
></PRE
></TD
></TR
></TABLE
><P
>Luego, en pos de la claridad (y para que Ud. sepa donde está), puede cambiarle el nombre a <TT
CLASS="FILENAME"
>linux</TT
> para reflejar la versión del núcleo y crear un vínculo simbólico:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>$ <TT
CLASS="COMMAND"
>mv linux linux-2.2.17 </TT
> 
$ <TT
CLASS="COMMAND"
>ln -s linux-2.2.17 linux </TT
></PRE
></TD
></TR
></TABLE
><P
>&#13;Ahora es tiempo de pasar a la configuración. Para esto debe estar en el directorio fuente:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>$ <TT
CLASS="COMMAND"
>cd linux </TT
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="compiling.html"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="compiling-conf.html"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Compilando e instalando núcleos nuevos</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="compiling.html"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Configurando el núcleo</TD
></TR
></TABLE
></DIV
>
  <hr align="center">
  <div align="left"><a href="http://www.linux-mandrake.com"><img
    src="../images/tux48.png" width="48" height="39" align="left" border="0"
    alt="Tux sobre Estrella por MandrakeSoft"></a> <font face="Helvetica,
    Arial, sans-serif" size="2">Linux es una marca registrada de 
    Linus Torvalds. Todas las otras marcas registradas y copyrights son la
    propiedad de sus respectivos due&ntilde;os.<br>A menos que se diga lo
	contrario, todo el contenido de estas p&aacute;ginas y todas las
	im&aacute;genes tienen Copyright de <i>MandrakeSoft S.A.</i> y de
	<i>MandrakeSoft Inc.</i> 2000.
    <br><a
    href="http://www.linux-mandrake.com/">http://www.linux-mandrake.com/</a>
    <br>
</font>
 </div>

</BODY

></HTML
>